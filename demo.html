<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>开始使用layui</title>
  <link rel="stylesheet" href="layui/css/layui.css">
  <link rel="stylesheet" href="css/demo.css">
</head>
<body class="layui-layout-body">
	
<div class="layui-layout layui-layout-admin">
	<!--头部导航-->
  <div class="layui-header">
    <!-- 头部区域（可配合layui已有的水平导航） -->
    <ul class="layui-nav layui-layout-left">
      <li class="layui-nav-item">
      	<a title="侧边伸缩" id="menu-switch">
      		<i class="layui-icon layui-icon-shrink-right"></i>
      	</a>
      </li>
      <li class="layui-nav-item">
      	<a href="" title="前台">
      		<i class="layui-icon layui-icon-website"></i>
      	</a>
      </li>
      <li class="layui-nav-item">
      	<a href="" title="刷新">
      		<i class="layui-icon layui-icon-refresh"></i>
      	</a>
      </li>
      <li class="layui-nav-item">
					<input type="text" name="keyword" class="layui-input layui-input-search" placeholder="搜索..." />        
      </li>
    </ul>
    <ul class="layui-nav layui-layout-right">
      <li class="layui-nav-item">
        <a href="javascript:;">
          <img src="http://t.cn/RCzsdCq" class="layui-nav-img">
      		贤心
        </a>
        <dl class="layui-nav-child">
          <dd><a href="">基本资料</a></dd>
          <dd><a href="">安全设置</a></dd>
        </dl>
      </li>
      <li class="layui-nav-item"><a id="logout" style="cursor: pointer;">退了</a></li>
    </ul>
  </div>
  
  <!--侧边导航-->
  <div class="layui-side layui-bg-black" style="left: 0px;" >
        <div class="layui-side-scroll">
            <ul class="layui-nav layui-nav-tree" lay-shrink="all" lay-filter="">
                <li class="layui-nav-item layui-nav-itemed" lay-id="1">
                    <a class="" href="javascript:;">
                        <i class="layui-icon"></i> 常用页面
                    <span class="layui-nav-more"></span></a>
                    <dl class="layui-nav-child">
                        <dd class="layui-this"><a tab-id="1-1" href="javascript:;" path="user.html" tab-id="1-1"><i class="iconfont icon-dianliyonghuzongshu"></i> 用户列表</a></dd>
                        <dd class=""><a tab-id="1-2"href="javascript:;" path="article.html" tab-id="1-2"><i class="iconfont icon-wenzhang2"></i> 文章列表</a></dd>
                        <dd ><a href="javascript:;" path="role.html" tab-id="1-3"><i class="iconfont icon-jiaose"></i> 角色列表</a></dd>
                        <dd><a href="javascript:;" path="permission.html" tab-id="1-4"><i class="iconfont icon-jiaoseshouquan"></i> 权限列表</a></dd>
                        <dd><a href="javascript:;" path="process.html" tab-id="1-5"><i class="iconfont icon-liucheng"></i> 流程列表</a></dd>
                        <dd><a href="javascript:;" path="image.html" tab-id="1-6"><i class="iconfont icon-tupian"></i> 图片列表</a></dd>
                        <dd><a href="javascript:;" path="login.html" tab-id="1-7"><i class="iconfont icon-denglu"></i> 登陆页面</a></dd>
                        <dd><a href="javascript:;" path="404.html" tab-id="1-8"><i class="iconfont icon-404cuowu"></i> 404页面</a></dd>
                        <dd><a href="javascript:;" path="403.html" tab-id="1-9"><i class="iconfont icon-icon-test"></i> 403页面</a></dd>
                        <dd><a href="javascript:;" path="500.html" tab-id="1-10"><i class="iconfont icon-icon-test1"></i> 500页面</a></dd>
                        <dd><a href="javascript:;" path="donate.html" tab-id="1-11"><i class="iconfont icon-juanzeng"></i> 捐赠列表</a></dd>
                    </dl>
                </li>
                <li class="layui-nav-item">
                    <a href="javascript:;">
                        <i class="layui-icon"></i> 图表页面
                    <span class="layui-nav-more"></span></a>
                    <dl class="layui-nav-child">
                        <dd><a href="javascript:;" path="map1.html" tab-id="2-1">柱状图</a></dd>
                        <dd><a href="javascript:;" path="map2.html" tab-id="2-2">折线图</a></dd>
                        <dd><a href="javascript:;" path="map3.html" tab-id="2-3">折线堆叠图</a></dd>
                        <dd><a href="javascript:;" path="map4.html" tab-id="2-4">饼图</a></dd>
                        <dd><a href="javascript:;" path="map5.html" tab-id="2-5">环形图</a></dd>
                        <dd><a href="javascript:;" path="map6.html" tab-id="2-6">散布图</a></dd>
                    </dl>
                </li>
                <li class="layui-nav-item">
                    <a href="javascript:;">
                        <i class="layui-icon"></i> 字体图标
                    <span class="layui-nav-more"></span></a>
                    <dl class="layui-nav-child">
                        <dd><a href="javascript:;" path="font-layui.html" tab-id="3-1">Layui内置图标库</a></dd>
                        <dd><a href="javascript:;" path="font-iconfont.html" tab-id="3-2">阿里巴巴图标库</a></dd>
                    </dl>
                </li>
                <li class="layui-nav-item">
                    <a href="javascript:;">
                        <i class="layui-icon"></i> 系统管理
                    <span class="layui-nav-more"></span></a>
                    <dl class="layui-nav-child">
                        <dd><a href="javascript:;" path="xxxx.html" tab-id="4-1"><i class="iconfont icon-settings"></i> 系统设置</a></dd>
                        <dd><a href="javascript:;" path="xxxx.html" tab-id="4-2"><i class="iconfont icon-blacklist"></i> 屏蔽词</a></dd>
                        <dd><a href="javascript:;" path="xxxx.html" tab-id="4-3"><i class="iconfont icon-rizhi"></i> 系统日志</a></dd>
                    </dl>
                </li>
            <span class="layui-nav-bar" style="top: 22.5px; height: 0px; opacity: 0;"></span></ul>
        </div>
    </div>
  
  <!--<div class="layui-body">-->
  	
    <!-- 内容主体区域 -->
    <div style="padding: 15px;" class="content-body">
    	
    	<div class="layui-tab layui-tab-brief" lay-filter="my-tab" lay-allowClose="true">
    		<ul class="layui-tab-title">
    			<li class="" lay-allowClose="false"><i class="layui-icon"></i> 主页</li>
    			<!--<li lay-id="1-2" class=""><i class="iconfont icon-wenzhang2"></i> 文章列表</li>
    			<li lay-id="1-2" class=""><i class="iconfont icon-wenzhang2"></i> 角色管理</li>-->
    		</ul>
    		<div class="layui-tab-content">
    			<div class="layui-tab-item layui-show">
    				<iframe class="ok-frame" src="page/welcome.html" frameborder="0" scrolling="yes" width="100%" height="100%"></iframe>
    			</div>
    			<!--<div class="layui-tab-item">
    				<iframe src="welcome.html" frameborder="0" scrolling="yes" width="100%" height="100%"></iframe>
    			</div>
    			<div class="layui-tab-item">
    				<iframe src="welcome.html" frameborder="0" scrolling="yes" width="100%" height="100%"></iframe>
    			</div>-->
    		</div>
    	</div>
    </div>
  <!--</div>-->
  
  <div class="layui-footer">
    <!-- 底部固定区域 -->
    © layui.com - 底部固定区域
  </div>
</div>
 
 
 
 
<!-- 你的HTML代码 -->
 
<script src="layui/layui.js"></script>
<script src="https://cdn.bootcss.com/jquery/1.8.3/jquery.js"></script>
<script src="https://cdn.bootcss.com/holder/2.9.6/holder.min.js"></script>
<script src="js/admin.js"></script>

<!--外部的 jquery-->
<script>
	
	$(function(){
		
		$("#shrink-icon").toggle(function(){
			console.log("拉进去")
			$("#shrink-icon i").removeClass('layui-icon-shrink-right').addClass('layui-icon-spread-left');
			$(".layui-side-menu").offset({
				left:-120
			});
			
		},function(){
			console.log("拉出来")
				$("#shrink-icon i").removeClass('layui-icon-spread-left').addClass('layui-icon-shrink-right');
			$(".layui-side-menu").offset({
				left:0
			});
		});
		
	});
	
</script>

<script>
//一般直接写在一个js文件中
layui.use(['layer', 'form','element'], function(){
  var layer = layui.layer
  ,element = layui.element
  ,$ = layui.jquery
  ,form = layui.form;
	
	
//	监听点击侧边栏子类表

	$("li.layui-nav-item dl dd a").click(function(){
		
			// 纯文字
			title1 = $(this).text();
		
			// 文字加图标
			title = $(this).html();
			console.log(title);
			path = $(this).attr("path");
			tabId = $(this).attr("tab-id");
			console.log(path+"  "+tabId);
		
		// 去除重复的tab
		for(var i=0; i<$('.ok-frame').length; i++){
			if(tabId == $('.ok-frame').eq(i).attr("tab-id") ){
				// 表示该选项卡已经 add 进 tab中了
				 element.tabChange("my-tab", tabId);
				 event.stopPropagation();
//				 console.log("stop append!");
				 return;
			}
			
		}
		
		
		element.tabAdd('my-tab',{
			title: title,
			content: "<iframe src='page/" + path + "' tab-id='" + tabId + "' class='ok-frame' frameborder='0' scrolling='yes' width='100%' height='100%'></iframe>",
			id: tabId
		});
		
		// 切换选项卡
		element.tabChange("my-tab",tabId);
	});
	
	
	

});
</script> 
</body>
</html>